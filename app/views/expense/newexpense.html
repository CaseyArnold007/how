<!-- form ng-submit="exp.newExpense(exp.newExpense)"-->
<div ng-controller="NewExpenseCtrl">
    <div class="form-group col-xs-12" style="display: block">
        <div class="form-group col-xs-7" style="vertical-align: top; text-align: left;">
            <h3>Create New Expense </h3>
        </div>
        <div class="panel panel-default form-group col-xs-5 ">
            <div style="display: block"> <b>{{userinfo.viewuserdata[0].name.last}}  , {{userinfo.viewuserdata[0].name.first}}</b></div>
            <div style="display: block">{{userinfo.viewuserdata[0].address.line1}} </div>
            <div style="display: block">{{userinfo.viewuserdata[0].address.line2}} </div>
            <div style="display: block">{{userinfo.viewuserdata[0].address.city}} , {{userinfo.viewuserdata[0].address.state}}, {{userinfo.viewuserdata[0].address.zip}}</div>
        </div>
        <form id="newExpenseform" ng-submit="createnewexpense()" name="newExpenseform" method="post" class="form-horizontal" novalidate>
            <!--div>{{newExpenseform | json}}</div>
        <div>{{exp | json}}</div-->
            <div class="form-group col-xs-4 ">
                <label>Event Date</label>
                <div>
                    <input ng-model="exp.eventdate" type="text" class="form-control" name="eventdate" id="eventdate" ng-required="true" style="background: white" >
                </div>
            </div>
            <div class="form-group col-xs-4 " style="float: middle">
                <label>Chapter Name</label>
                <div>
                    <input ng-model="exp.Chapter" name="Chapter" type="text" placeholder={{userinfo.viewuserdata[0].Chapter}} value={{userinfo.viewuserdata[0].chapter}} disabled="true" style="font-size: 8px; background: white" class="form-control" />
                    <input type="text" id="BillId" name="BillId" ng-model="exp.BillId" value=120 hidden="true" >
                    <input type="text" id="PaymentStatus" name="PaymentStatus" ng-model="exp.PaymentStatus" value=120 hidden="true" >
                </div>
            </div>
            <div class="form-group col-xs-4 " style="float: right">
                <label>Total Expense Amount</label>
                <input type="text" readonly class="form-control exp_format2" name="totalcost" placeholder="0" value="{{ ((exp.Line[0].Quantity *  exp.Line[0].Rate) + (exp.Line[1].Quantity *  exp.Line[1].Rate) + exp.Line[2].Amount + exp.Line[3].Amount) | currency}}">
            </div>
            <div class="form-group col-xs-10 ">
                <label class="exp_label">Business purpose, Origin and Destination</label>
                <input name="Description" ng-model="exp.Description" type="text" class="form-control" title="Business purpose, Origin & Destination" placeholder="Business purpose, Origin & Destination" required>
                <div ng-if="newExpenseform.Description.$touched && newExpenseform.Description.$invalid">
                    hello
                </div>
            </div>
            <div class="form-group col-xs-6">
                <div class="form-group col-xs-5">
                    <label>Miles Driven</label>
                    <input ng-model="exp.Line[0].Quantity" name="miles" class="form-control" placeholder="0" type="number" min="1" pattern="\d+">
                </div>
                <div class="form-group col-xs-4" style="padding: 10">
                    <label>Mile Rate</label>
                    <input ng-model="exp.Line[0].Rate" name="milerate" class="form-control" placeholder="0.25">
                </div>
                <div class="form-group col-xs-6">
                    <label>Mileage Amount</label>
                    <label class="form-control exp_format2" placeholder="0" ng-model="exp.Line[0].Amount" name="Amount1">{{ (exp.Line[0].Quantity * exp.Line[0].Rate) | currency}}</label>
                </div>
            </div>
            <div class="col-xs-6">
                <div class="form-group col-xs-5">
                    <label title="Trailer Miles Hauled">Trailer Miles </label>
                    <input ng-model="exp.Line[1].Quantity" name="trailermiles" class="form-control" placeholder="0" type="number" min="1" pattern="\d+">
                </div>
                <div class="form-group col-xs-4" style="padding: 10">
                    <label>Mile Rate</label>
                    <input ng-model="exp.Line[1].Rate" name="milerate" class="form-control" placeholder="0.25">
                </div>
                <div class="form-group col-xs-6 ">
                    <label>Trailer Amount</label>
                    <label class="form-control exp_format2" placeholder="0" ng-model="exp.Line[1].Amount" name="Amount2">{{ (exp.Line[1].Quantity * exp.Line[1].Rate) | currency}}</label>
                </div>
            </div>
            <div class="form-group col-xs-12">
                <div class="col-sm-2">
                    <label> Line #</label>
                    <label class="exp_num"> (1)</label>
                </div>
                <div class="col-sm-7">
                    <label>Explanation of Other Expenses</label>
                    <!--todo: reimplement ng-required="exp.Amount3"-->
                    <input ng-model="exp.Line[2].Description" name="Description3" ng-required="exp.Line[2].Amount && !exp.Line[2].Description" type="text" class="form-control balance" placeholder="Explanation of Other expenses" title="Explanation of Other expenses">
                </div>
                <div class="col-xs-3">
                    <label> Amount</label>
                    <input ng-model="exp.Line[2].Amount" name="Amount3" ng-required="exp.Line[2].Description && !exp.Line[2].Amount" type="number" step="0.01" class="form-control balance">
                </div>
            </div>
            <div class="form-group col-xs-12">
                <div class="col-sm-2">
                    <label class="exp_num"> (2)</label>
                </div>
                <div class=" col-sm-7">
                    <!--todo: reimplement ng-required="exp.Amount4"-->
                    <input ng-model="exp.Line[3].Description" ng-required="exp.Line[3].Amount && !exp.Line[3].Description" type="text" class="form-control balance" placeholder="Explanation of Other expenses" title="Explanation of Other expenses">
                </div>
                <div class="col-xs-3">
                    <!--ng-value=0-->
                    <input ng-model="exp.Line[3].Amount" ng-required="exp.Line[3].Description && !exp.Line[3].Amount" name="Amount4" type="number" step="0.01" class="form-control balance">
                </div>
            </div>
            <div class="form-group col-xs-12">
                <label title="Load supporting documents (images only) including paid bills, receipts, deposit slips">Load supporting documents (images only)</label>
                <input type="file" id="files" name="files" multiple accept="image/*">
                <!--input type="file" id="files" name="files" multiple   onchange="LoadImageData(this)"   accept="image/*" -->
                <br />
                <div id="selectedFiles"></div>
                <input type="submit" hidden>
            </div>
            <button class="btn btn-primary ur_format_button" type="submit" ng-disabled="newExpenseform.$invalid">Add New Expense</button>
            <!--<a ng-href='#here' class="btn btn-primary ur_format_button " ng-click="createnewexpense(exp.newExpense) ">Add New Expense</a>-->
        </form>
        <!--<script src="scripts/controllers/FileLoad.js "></script>-->
        <!--<script>
        var currentdate = new Date();
        jQuery.noConflict()(function($) {
            $(document).ready(function() {
                $('#eventdate').pickadate({
                    format: 'mm/dd/yyyy',
                    formatSubmit: 'mm/dd/yyyy',
                    hiddenName: true,
                    onStart: function() {
                        this.set('select', currentdate); // Set to current date on load
                    }
                });
            });

        });
        </script>-->
    </div>
</div>