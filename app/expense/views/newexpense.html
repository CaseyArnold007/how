<!-- form ng-submit="exp.newExpense(exp.newExpense)"-->
<div ng-controller="NewExpenseCtrl">
    <form id="newExpenseform" ng-submit="createnewexpense()" name="newExpenseform" method="post" class="form-horizontal" novalidate>
        <div>{{newExpenseform | json}}</div>
        <div>{{exp | json}}</div>
        <div class="form-group col-xs-4 ">
            <label for="">Event Date</label>
            <div>
                <input ng-model="exp.eventdate" type="text" class="form-control" name="eventdate" id="eventdate" ng-required="true" style="background: white"/>
            </div>
        </div>
        <div class="form-group col-xs-4 " style="float: middle">
            <label for="">Chapter Name</label>
            <div>
                <input ng-model="exp.Chapter" name="Chapter"  type="text" placeholder="MARYLAND CHAPTER" disabled="true" value="MARYLAND CHAPTER" style="font-size: 8px; background: white" class="form-control" />
                <input type="text" id=BillId name=BillId ng-model="exp.BillId" value=120 hidden="true" />
            </div>
        </div>
        <div class="form-group col-xs-4 " style="float: right">
            <label for="">Total Expense Amount</label>
            <input type="text" readonly class="form-control exp_format2" name="totalcost" placeholder="0" value="{{ ((exp.Line[0].Quantity * .25) + (exp.Line[1].Quantity * .40) + exp.Line[2].Amount + exp.Line[3].Amount) | currency}}">
        </div>
        <div class="form-group col-xs-10 ">
            <label for="" class="exp_label">Business purpose, Origin and Destination</label>
            <input name="Description" ng-model="exp.Description" type="text" class="form-control" title="Business purpose, Origin & Destination" placeholder="Business purpose, Origin & Destination" required>
            <div ng-if="newExpenseform.Description.$touched && newExpenseform.Description.$invalid">
                hello world
            </div>
        </div>
        <div class="form-group col-xs-6 ">
            <div class="form-group col-xs-6 ">
                <label for="">Miles Driven</label>
                <input ng-model="exp.Line[0].Quantity" name="miles" class="form-control" placeholder="0" type="number" min="1" pattern="\d+">
            </div>
            <div class="form-group col-xs-6 ">
                <label for="">Travel @.25/mile</label>
                <label class="form-control exp_format2" placeholder="0" ng-model="exp.Line[0].Amount" name="Amount1">{{ exp.Line[0].Quantity * .25 | currency}}</label>
            </div>
        </div>
        <div class="col-xs-6">
            <div class="form-group col-xs-6  ">
                <label for="" title="Trailer Miles Hauled">Trailer Miles </label>
                <input ng-model="exp.Line[1].Quantity" name="trailermiles" class="form-control" placeholder="0" type="number" min="1" pattern="\d+">
            </div>
            <div class="form-group col-xs-6 ">
                <label for="">Travel @.40/mile</label>
                <label class="form-control exp_format2" placeholder="0" ng-model="exp.Line[1].Amount" name="Amount2">{{ exp.Line[1].Quantity * .40 | currency}}</label>
            </div>
        </div>
        <div class="form-group col-xs-12 ">
            <div class="col-sm-2">
                <label for=""> Line #</label>
                <label class="exp_num"> (1)</label>
            </div>
            <div class=" col-sm-7">
                <label for="">Explanation of Other Expenses</label>
                <!--todo: reimplement ng-required="exp.Amount3"-->
                <input ng-model="exp.Line[2].Description" name="Description3" ng-required="exp.Line[2].Amount && !exp.Line[2].Description" type="text" class="form-control balance"  placeholder="Explanation of Other expenses" title="Explanation of Other expenses">
            </div>
            <div class="col-xs-2">
                <label for=""> Amount</label>
                <input ng-model="exp.Line[2].Amount" name="Amount3" ng-required="exp.Line[2].Description && !exp.Line[2].Amount" type="number" step="0.01" class="form-control balance">
            </div>
        </div>
        <div class="form-group col-xs-12 ">
            <div class="col-sm-2">
                <label class=" exp_num"> (2)</label>
            </div>
            <div class=" col-sm-7">
                <!--todo: reimplement ng-required="exp.Amount4"-->
                <input ng-model="exp.Line[3].Description" ng-required="exp.Line[3].Amount && !exp.Line[3].Description" type="text" class="form-control balance" placeholder="Explanation of Other expenses" title="Explanation of Other expenses">
            </div>
            <div class="col-xs-2">
                <!--ng-value=0-->
                <input ng-model="exp.Line[3].Amount" ng-required="exp.Line[3].Description && !exp.Line[3].Amount" name="Amount4" type="number" step="0.01" class="form-control balance" >
            </div>
        </div>
        <div class="form-group col-xs-12 ">
            <input type="file" id="files" name="files" multiple accept="image/*">
            <!--input type="file" id="files" name="files" multiple   onchange="LoadImageData(this)"   accept="image/*" -->
            <br/>
            <div id="selectedFiles"></div>
            <input type="submit">
        </div>
        <button class="btn btn-primary ur_format_button" type="submit"  ng-disabled="newExpenseform.$invalid">Add New Expense</button>
        <!--<a ng-href='#here' class="btn btn-primary ur_format_button " ng-click="createnewexpense(exp.newExpense) ">Add New Expense</a>-->
    </form>
    <script src="expense/scripts/FileLoad.js "></script>
    <script>
    $(document).ready(function() {
        $('#eventdate').pickadate({
            format: 'mm/dd/yyyy',
            formatSubmit: 'mm/dd/yyyy',
            hiddenName: true
        });

        // $('#eventdate')
        //     .pickadate('picker')
        //     .on('render', function() {
        //         /**
        //          * http://amsul.ca/pickadate.js/api.htm#events-callbacks
        //          * Revalidate the date of birth field
        //          */
        //         $('#newExpenseform').formValidation('revalidateField', 'eventdate');
        //     });

        // $('#newExpenseform').formValidation({
        //     framework: 'bootstrap',
        //     icon: {
        //         valid: 'glyphicon glyphicon-ok',
        //         invalid: 'glyphicon glyphicon-remove',
        //         validating: 'glyphicon glyphicon-refresh'
        //     },
        //     excluded: ':disabled',
        //     fields: {
        //         eventdate: {
        //             validators: {
        //                 notEmpty: {
        //                     message: 'The Event Date is required'
        //                 },
        //                 date: {
        //                     format: 'MM/DD/YYYY',
        //                     message: 'The Event Date is not a valid date'
        //                 }
        //             }
        //         }
        //     }
        // });
    });
    </script>
</div>
